(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){e.exports={containerPost:"MyPosts_containerPost__3J2fx",addPost:"MyPosts_addPost__1a0lb",posts:"MyPosts_posts__1mE3T"}},123:function(e,t,n){e.exports={item:"Post_item__2m7gm",messagePost:"Post_messagePost__3Fd09",countLike:"Post_countLike__2dhqZ",likeType:"Post_likeType__diz1u"}},143:function(e,t,n){e.exports={form:"LoginStyle_form__30dUS",loginFormContainer:"LoginStyle_loginFormContainer__2uN0j"}},187:function(e,t,n){e.exports={img:"Profile_img__1eeBw",profileContainer:"Profile_profileContainer__3Gmik"}},215:function(e,t,n){},343:function(e,t,n){"use strict";n.r(t);var a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,440)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))},s=n(58),r=n.n(s),i=n(17),o=n(18),c=n(23),u=n(24),l=n(0),d=n.n(l),j=(n(215),n(26)),p=n(13),b=n(15),f="SEND-MESSAGES",h={dialogsData:[{id:1,name:"Dimych",image:"https://yt3.ggpht.com/ytc/AKedOLSDfkyRyvD8wZlHqtlKyNqE5H5BqUI2CxqOKU7wAg=s900-c-k-c0x00ffffff-no-rj"},{id:2,name:"Sveta",image:"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg"},{id:3,name:"Sasha",image:"https://pixelbox.ru/wp-content/uploads/2020/12/ava-twitch-32.jpg"},{id:4,name:"Viktor",image:'https://placepic.ru/wp-content/uploads/2018/01/art-krasivyie-kartinki-Putin-politika-1331294.jpeg"'},{id:5,name:"Valera",image:"https://pixelbox.ru/wp-content/uploads/2020/11/ava-maincraft-youtube-76.jpg"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"yo Hi"},{id:4,message:"Hello Hi"},{id:5,message:"Yo yo yo"}]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(t.type===f){var n=t.newMessageText;return""!==n?Object(b.a)(Object(b.a)({},e),{},{messagesData:[].concat(Object(p.a)(e.messagesData),[{id:6,message:n}])}):e}return e},O=n(44),m=n.n(O),x=n(36),v=n(1),_=function(e){var t="/dialogs/"+e.id;return Object(v.jsx)("div",{className:m.a.containerDialog,children:Object(v.jsxs)(x.b,{to:t,activeClassName:m.a.active,className:m.a.dialogsStyle,children:[Object(v.jsx)("img",{src:e.image,className:m.a.imageDialog}),Object(v.jsxs)("div",{children:[" ",e.name]})]})})},w=n(80),S=n(413),y=n(429),P=function(e){return Object(v.jsxs)("div",{className:m.a.messageStyle,children:[Object(v.jsx)("div",{className:m.a.wrapper_style}),Object(v.jsx)("div",{className:m.a.wrapper,children:Object(v.jsxs)("div",{children:[e.message," "]})})]})},C=n(401),N=function(e){var t=Object(w.a)({initialValues:{newMessage:""},onSubmit:function(t,n){var a=n.resetForm;e.onSendMessage(t.newMessage),a()}});return Object(v.jsx)("div",{children:Object(v.jsx)("form",{onSubmit:t.handleSubmit,children:Object(v.jsxs)("div",{className:m.a.formDialogs,children:[Object(v.jsx)("div",{children:Object(v.jsx)(S.a,{sx:{width:"500px",background:"#ffffdb"},multiline:!0,maxRows:10,onChange:t.handleChange,id:"newMessage",name:"newMessage",placeholder:"New message...",value:t.values.newMessage,size:"small"})}),Object(v.jsx)("div",{children:Object(v.jsx)(y.a,{color:"warning",type:"submit","aria-label":"delete",size:"small",children:Object(v.jsx)(C.a,{fontSize:"large"})})})]})})})},k=function(e){var t=e.dialogPage.dialogsData.map((function(e){return Object(v.jsx)(_,{image:e.image,name:e.name,id:e.id},e.id)})),n=e.dialogPage.messagesData.map((function(e){return Object(v.jsx)(P,{message:e.message},e.id)}));return Object(v.jsxs)("div",{className:m.a.dialogs,children:[Object(v.jsx)("div",{className:m.a.dialogsItem,children:t}),Object(v.jsxs)("div",{className:m.a.messages,children:[n,Object(v.jsx)("div",{className:m.a.buttonMessage,children:Object(v.jsx)(N,{onSendMessage:e.onSendMessage})})]})]})},T=n(28),E=n(120),D=["isAuth"],U=function(e){return{isAuth:e.auth.isAuth}};var L,I=n(52),A=Object(I.c)(Object(T.b)((function(e){return{dialogPage:e.dialogPage}}),{onSendMessage:function(e){return{type:f,newMessageText:e}}}),(function(e){return Object(T.b)(U)((function(t){var n=t.isAuth,a=Object(E.a)(t,D);return n?Object(v.jsx)(e,Object(b.a)({},a)):Object(v.jsx)(j.a,{to:"/login"})}))}))(k),F=n(438),R=n(425),z=n(433),M=n(434),H=n(435),W=n(432),G=n(4),q=n(14),Y=n(431),K=n(428),B=n(420),V=n(423),Z=n(409),J=n(39),Q=n.n(J),X=n(430),$=n(402),ee=n(403),te=n(404),ne=n(405),ae=n(406),se=n(407),re=function(){return Object(v.jsx)("div",{className:Q.a.nav,children:Object(v.jsxs)(X.a,{className:Q.a.wrapperItems,children:[Object(v.jsx)(x.b,{to:"/profile",activeClassName:Q.a.active,children:Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)($.a,{}),Object(v.jsx)("span",{className:Q.a.spanLink,children:"Profile"})]})}),Object(v.jsx)(x.b,{to:"/dialogs",activeClassName:Q.a.active,children:Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)(ee.a,{}),Object(v.jsx)("span",{className:Q.a.spanLink,children:"Messages"})]})}),Object(v.jsx)(x.b,{to:"/users",activeClassName:Q.a.active,children:Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)(te.a,{}),Object(v.jsx)("span",{className:Q.a.spanLink,children:"Users"})]})}),Object(v.jsx)("a",{children:Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)(ne.a,{}),Object(v.jsx)("span",{className:Q.a.spanLink,children:"News"})]})}),Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)(ae.a,{}),Object(v.jsx)("span",{children:"Music"})]}),Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)(se.a,{}),Object(v.jsx)("span",{children:"Settings"})]})]})})},ie=function(){var e,t=l.useState({left:!1}),n=Object(q.a)(t,2),a=n[0],s=n[1],r=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&s(Object(b.a)(Object(b.a)({},a),{},Object(G.a)({},e,t)))}};return Object(v.jsx)("div",{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(W.a,{size:"large",onClick:r("left",!0),children:[" ",Object(v.jsx)(Z.a,{style:{color:"white"}})," "]}),Object(v.jsx)(V.a,{anchor:"left",open:a.left,onClose:r("left",!1),children:(e="left",Object(v.jsx)(Y.a,{style:{background:"linear-gradient(326deg, rgba(255,108,2,1) 30%, rgba(2,152,142,1) 67%)",height:"100%",padding:"0"},sx:{width:250},role:"presentation",onClick:r(e,!1),onKeyDown:r(e,!1),children:Object(v.jsx)(K.a,{style:{padding:"0",margin:"0"},children:Object(v.jsx)(B.a,{style:{padding:"0",margin:"0"},children:Object(v.jsx)(re,{})})})}))})]})})},oe=n.p+"static/media/headerImages.adb5c696.png",ce=n(66),ue=n.n(ce),le=function(e){return Object(v.jsx)(z.a,{style:{backgroundColor:"#02988e"},position:"relative",children:Object(v.jsxs)(M.a,{className:ue.a.headerMain,children:[Object(v.jsx)("div",{className:ue.a.headerMenu,children:Object(v.jsx)(ie,{})}),Object(v.jsx)(H.a,{variant:"h1",component:"div",sx:{flexGrow:1}}),e.isAuth?Object(v.jsxs)("div",{className:ue.a.login,children:[Object(v.jsx)("img",{className:ue.a.photoHeader,src:e.photo?e.photo:oe}),e.login,Object(v.jsx)(W.a,{size:"large",onClick:e.logOut,color:"warning",variant:"outlined",children:"Log out"})]}):Object(v.jsx)(x.b,{to:"/login",style:{color:"orange",fontWeight:"bold"},children:"Login"})]})})},de=n(21),je=n.n(de),pe=n(41),be=n(186),fe=n.n(be).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"21d990e0-eae8-42bd-a185-362e1cc41b0a"}}),he={getUsers:function(e,t){return fe.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollowUsers:function(e){return fe.delete("follow/".concat(e)).then((function(e){return e.data}))},followUsers:function(e){return fe.post("follow/".concat(e)).then((function(e){return e.data}))}},ge=function(){return fe.get("auth/me").then((function(e){return e.data}))},Oe=function(e){return fe.post("auth/login/",e)},me=function(){return fe.delete("/auth/login/")},xe=function(e){return fe.get("profile/"+e)},ve=function(e){return fe.get("profile/status/"+e)},_e=function(e){return fe.put("profile/status/",{status:e})},we={error:null,initialized:!1},Se=function(e){return{type:"SET_ERROR",error:e}},ye="SET-USER-DATA",Pe="SET-PHOTO",Ce={id:null,email:null,login:null,isAuth:!1,photo:null},Ne=function(e,t,n,a){return{type:ye,data:{id:e,email:t,login:n,isAuth:a}}},ke=function(){return function(){var e=Object(pe.a)(je.a.mark((function e(t){var n,a,s,r,i;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return 0===(n=e.sent).resultCode&&(a=n.data,s=a.id,r=a.email,i=a.login,t(Ne(s,r,i,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Te=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)(le,Object(b.a)({},this.props))}}]),n}(d.a.Component),Ee=Object(T.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,photo:e.auth.photo}}),{authUserLogin:ke,logOut:function(){return function(){var e=Object(pe.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:0===e.sent.data.resultCode&&t(Ne(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Te),De=n(56),Ue=n.n(De),Le=n(427),Ie=n(424),Ae=["user"],Fe=function(e){var t=e.user,n=Object(E.a)(e,Ae);return Object(v.jsx)(Le.a,{elevation:3,sx:{borderRadius:"20px"},children:Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:Ue.a.user,children:[Object(v.jsx)("div",{children:Object(v.jsx)(x.b,{to:"/profile/"+t.id,children:Object(v.jsx)("div",{children:null!==t.photos.small?Object(v.jsx)("img",{src:t.photos.small,className:Ue.a.userPhoto}):Object(v.jsxs)(Ie.a,{className:Ue.a.userPhoto,sx:{fontSize:"50px",width:"100px",height:"100px",background:"#10ab9e"},children:[" ",t.name[0].toUpperCase()]})},t.id)})}),Object(v.jsx)("div",{className:Ue.a.name,children:Object(v.jsx)("span",{className:Ue.a.span,children:t.name.substr(1,15)})}),Object(v.jsx)("div",{children:t.followed?Object(v.jsx)(W.a,{variant:"outlined",size:"small",color:"error",disabled:n.followingProgress.some((function(e){return e===t.id})),onClick:function(){n.unfollow(t.id)},children:"Unfollow"}):Object(v.jsx)(W.a,{variant:"contained",color:"warning",size:"small",disabled:n.followingProgress.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"Follow"})})]})})})},Re=function(e){var t=e.users.filter((function(e){return null!==e.photos.small})),n=e.users.filter((function(e){return null==e.photos.small})),a=[].concat(Object(p.a)(t),Object(p.a)(n));return Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:Ue.a.usersContainer,children:a.map((function(t){return Object(v.jsx)(Fe,{pageSize:e.pageSize,user:t,unfollow:e.unfollow,follow:e.follow,followingProgress:e.followingProgress},t.id)}))})})},ze=n.p+"static/media/preloader.3fb26d9b.gif",Me=function(){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(v.jsx)("img",{style:{width:"80px",height:"100px"},src:ze})," "]})},He=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(b.a)(Object(b.a)({},e),a):e}))};!function(e){e.FOLLOW="Users/FOLLOW",e.UNFOLLOW="Users/UNFOLLOW",e.SET_USERS="Users/SET_USERS",e.SET_CURRENT="Users/SET_CURRENT",e.SET_TOTAL_COUNT="Users/SET_TOTAL_COUNT",e.TOGGLE_FETCHING="Users/CHANGE_FETCHING",e.FOLLOWING_PROGRESS="Users/FOLLOWING_PROGRESS"}(L||(L={}));var We={users:[],pageSize:55,totalUserCount:0,currentPage:1,isFetching:!1,followingProgress:[]},Ge=function(e){return{type:L.FOLLOW,userID:e}},qe=function(e){return{type:L.UNFOLLOW,userID:e}},Ye=function(e){return{type:L.SET_CURRENT,page:e}},Ke=function(e){return{type:L.TOGGLE_FETCHING,isFetching:e}},Be=function(e,t){return{type:L.FOLLOWING_PROGRESS,isFetching:e,userId:t}},Ve=function(){var e=Object(pe.a)(je.a.mark((function e(t,n,a,s){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Be(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(s(n)),t(Be(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),Ze=n(416),Je=n(436),Qe=function(e){return e.usersPage.users},Xe=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalUserCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},nt=function(e){return e.usersPage.followingProgress},at={minWidth:"100%",minHeight:"40px",alignItems:"center",display:"flex"},st=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"onPageChanged",value:function(e){this.props.getUsers(e,this.props.pageSize)}},{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalUserCount/this.props.pageSize);return Object(v.jsxs)("div",{className:Ue.a.containerWrapper,children:[Object(v.jsx)("div",{className:Ue.a.paginator,children:Object(v.jsx)(Je.a,{sx:at,children:Object(v.jsx)(Ze.a,{color:"standard",onChange:function(t,n){e.onPageChanged(n)},count:t,variant:"text",shape:"rounded",defaultPage:1,siblingCount:13,size:"small"})})}),Object(v.jsxs)(v.Fragment,{children:[this.props.isFetching?Object(v.jsx)(Me,{}):null,Object(v.jsx)(Re,{pageSize:this.props.pageSize,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingProgress:this.props.followingProgress})]})]})}}]),n}(d.a.Component),rt=Object(I.c)(Object(T.b)((function(e){return{users:Qe(e),pageSize:Xe(e),totalUserCount:$e(e),currentPage:et(e),isFetching:tt(e),followingProgress:nt(e)}}),{follow:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve(n,e,he.followUsers.bind(he),Ge);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve(n,e,he.unfollowUsers.bind(he),qe);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Ye,getUsers:function(e,t){return function(){var n=Object(pe.a)(je.a.mark((function n(a){var s;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ke(!0)),n.next=3,he.getUsers(e,t);case 3:s=n.sent,a((i=s.items,{type:L.SET_USERS,users:i})),a((r=s.totalCount,{type:L.SET_TOTAL_COUNT,totalCount:r})),a(Ke(!1)),a(Ye(e));case 8:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(st),it=n.p+"static/media/spiderMan.c815e3f0.svg",ot=n(99),ct=n.n(ot),ut=function(e){var t=Object(l.useState)(!1),n=Object(q.a)(t,2),a=n[0],s=n[1],r=Object(l.useState)(e.status),i=Object(q.a)(r,2),o=i[0],c=i[1];Object(l.useEffect)((function(){c(e.status)}),[e.status]);return Object(v.jsxs)("div",{children:[!a&&Object(v.jsx)("div",{children:Object(v.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"Add status"})}),a&&Object(v.jsx)("div",{children:Object(v.jsx)("input",{value:o,onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(o)}})})]})},lt=function(e){var t;return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:ct.a.containerProfileData,children:Object(v.jsxs)(Le.a,{elevation:3,className:ct.a.wrapper,children:[Object(v.jsx)("img",{className:ct.a.imageProfile,src:(null===(t=e.profile)||void 0===t?void 0:t.photos.large)||it,alt:"Images profile"}),Object(v.jsx)("div",{className:ct.a.info,children:Object(v.jsx)(ut,{status:e.status,updateStatus:e.updateStatus})})]})})})})},dt="ADD-POST",jt="SET-USERS-PROFILE",pt="SET-STATUS",bt="DELETE-POST",ft={postData:[{id:1,message:"Sosiska",likeCount:23},{id:2,message:"REDDISKA",likeCount:77},{id:3,message:"Do you want me? ",likeCount:107}],profile:null,status:""},ht=function(e){return{type:pt,textStatus:e}},gt=n(100),Ot=n.n(gt),mt=n(123),xt=n.n(mt),vt=function(e){return Object(v.jsxs)("div",{className:xt.a.item,children:[Object(v.jsx)("img",{src:"https://bizlit.com.ua/image/data/pictures/YeDYzSR-10apkm4.png"}),Object(v.jsx)("div",{className:xt.a.messagePost,children:e.message}),Object(v.jsx)("div",{className:xt.a.likeType,children:Object(v.jsxs)("span",{children:["\u2665",e.likeCount]})})]})},_t=d.a.memo((function(e){var t=e.profilePage.postData.map((function(e){return Object(v.jsx)(vt,{message:e.message,likeCount:e.likeCount})}));return Object(v.jsxs)("div",{className:Ot.a.containerPost,children:[Object(v.jsx)(Le.a,{elevation:3,className:Ot.a.addPost,children:Object(v.jsx)(wt,{onSubmit:function(t){""!==t&&e.addPost(t)}})}),Object(v.jsx)(Le.a,{elevation:3,className:Ot.a.posts,children:Object(v.jsx)("div",{className:Ot.a.posts,children:t})})]})})),wt=function(e){var t=e.onSubmit,n=Object(w.a)({initialValues:{newPostText:""},onSubmit:function(e,n){var a=n.resetForm;t(e.newPostText),a()}});return Object(v.jsx)("div",{children:Object(v.jsx)("form",{onSubmit:n.handleSubmit,children:Object(v.jsxs)("div",{children:[Object(v.jsx)(S.a,{sx:{width:"400px"},size:"small",color:"success",id:"newPostText",name:"newPostText",label:"New post...",value:n.values.newPostText,onChange:n.handleChange}),Object(v.jsx)(W.a,{color:"warning",variant:"contained",type:"submit",children:"Submit"})]})})})},St=_t,yt=Object(T.b)((function(e){return{profilePage:e.profilePage}}),{addPost:function(e){return{type:dt,postText:e}}})(St),Pt=n(187),Ct=n.n(Pt),Nt=function(e){return Object(v.jsxs)("div",{className:Ct.a.profileContainer,children:[Object(v.jsx)(lt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(v.jsx)(yt,{})]})},kt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),e?(this.props.getCurrenUsersProfile(e),this.props.getStatusProfile(e)):console.error("ID should exist in URL params or in state ('authirizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(Nt,Object(b.a)(Object(b.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),n}(d.a.Component),Tt=Object(I.c)(Object(T.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getCurrenUsersProfile:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(e);case 2:a=t.sent,n((s=a.data,{type:jt,profile:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusProfile:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(e);case 2:a=t.sent,n(ht(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e(e);case 2:n(ht(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),j.g)(kt),Et=n(143),Dt=n.n(Et),Ut=n(437),Lt=n(419),It=n(124),At=n(418),Ft=n(414),Rt=l.forwardRef((function(e,t){return Object(v.jsx)(Ft.a,Object(b.a)({elevation:6,ref:t,variant:"filled"},e))}));var zt,Mt=Object(T.b)((function(e){return{errorApp:e.app.error}}),{setAppError:Se})((function(e){var t=function(t,n){"clickaway"!==n&&e.setAppError(null)},n=null!==e.errorApp;return Object(v.jsx)(At.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,autoHideDuration:3e3,onClose:t,children:Object(v.jsx)(Rt,{onClose:t,severity:"warning",sx:{width:"100%",height:"80px",alignItems:"center",fontSize:"large"},children:e.errorApp})})})),Ht=It.a({email:It.b().email("Enter a valid email").required("Email is required"),password:It.b().min(4,"Password should be of minimum 4 characters length").required("Password is required")}),Wt=function(e){var t=Object(w.a)({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:Ht,onSubmit:function(t){e.onSubmit(t)}});return Object(v.jsx)("div",{children:Object(v.jsx)("form",{onSubmit:t.handleSubmit,children:Object(v.jsx)("div",{className:Dt.a.form,children:Object(v.jsxs)(Le.a,{className:Dt.a.loginFormContainer,children:[Object(v.jsx)(H.a,{color:"orange",component:"h1",variant:"h4",fontSize:"xxx-large",children:"Login"}),Object(v.jsx)(S.a,{sx:{maxWidth:"400px",minWidth:"350px"},size:"small",color:"success",id:"email",name:"email",label:"Email",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email,required:!0}),Object(v.jsx)(S.a,{sx:{maxWidth:"400px",minWidth:"350px"},size:"small",color:"success",id:"password",name:"password",label:"Password",type:"password",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password,required:!0}),Object(v.jsx)(Ut.a,{onChange:t.handleChange,control:Object(v.jsx)(Lt.a,Object(b.a)(Object(b.a)({},t.getFieldProps("rememberMe")),{},{checked:t.values.rememberMe})),label:"Remember me"}),Object(v.jsx)(W.a,{color:"warning",variant:"contained",type:"submit",children:"Submit"})]})})})})},Gt=Object(T.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginTC:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe(e);case 2:0===(a=t.sent).data.resultCode?n(ke()):n(Se(a.data.messages[0]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(v.jsx)(j.a,{to:"/profile"}):Object(v.jsxs)("div",{children:[Object(v.jsx)(Wt,{onSubmit:function(t){e.loginTC(t)}}),Object(v.jsx)(Mt,{})]})})),qt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(v.jsxs)(R.a,{container:!0,children:[Object(v.jsx)(R.a,{item:!0,xs:12,children:Object(v.jsx)(Ee,{})}),Object(v.jsxs)(R.a,{container:!0,className:ue.a.wrapperContent,children:[Object(v.jsx)(Je.a,{elevation:3,className:ue.a.navbarApp,children:Object(v.jsx)(re,{})}),Object(v.jsx)("div",{className:ue.a.content,children:Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(v.jsx)(j.a,{to:"/profile"})}}),Object(v.jsx)(j.b,{path:"/dialogs",render:function(){return Object(v.jsx)(A,{})}}),Object(v.jsx)(j.b,{path:"/profile/:userId?",render:function(){return Object(v.jsx)(Tt,{})}}),Object(v.jsx)(j.b,{path:"/users",render:function(){return Object(v.jsx)(rt,{})}}),Object(v.jsx)(j.b,{path:"/login",render:function(){return Object(v.jsx)(Gt,{})}})]})})]})]}):Object(v.jsx)(F.a,{color:"success"})}}]),n}(d.a.Component),Yt=Object(I.c)(j.g,Object(T.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(pe.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ke());case 2:return n=e.sent,e.next=5,Promise.all([n]);case 5:t({type:"INITIALIZED-SUCCESS"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(qt),Kt={imagesData:[{image:"https://yt3.ggpht.com/ytc/AKedOLSDfkyRyvD8wZlHqtlKyNqE5H5BqUI2CxqOKU7wAg=s900-c-k-c0x00ffffff-no-rj"},{image:"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg"},{image:"https://pixelbox.ru/wp-content/uploads/2020/12/ava-twitch-32.jpg"},{image:'https://placepic.ru/wp-content/uploads/2018/01/art-krasivyie-kartinki-Putin-politika-1331294.jpeg"'},{image:"https://pixelbox.ru/wp-content/uploads/2020/11/ava-maincraft-youtube-76.jpg"}]},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return e},Vt=n(191),Zt=Object(I.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object(b.a)(Object(b.a)({},e),{},{postData:[{id:(new Date).getTime(),message:t.postText,likeCount:0}].concat(Object(p.a)(e.postData))});case jt:return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case pt:return Object(b.a)(Object(b.a)({},e),{},{status:t.textStatus});case bt:return Object(b.a)(Object(b.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});default:return e}},dialogPage:g,sidebar:Bt,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.FOLLOW:return Object(b.a)(Object(b.a)({},e),{},{users:He(e.users,t.userID,"id",{followed:!0})});case L.UNFOLLOW:return Object(b.a)(Object(b.a)({},e),{},{users:He(e.users,t.userID,"id",{followed:!1})});case L.SET_USERS:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case L.SET_CURRENT:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.page});case L.SET_TOTAL_COUNT:return Object(b.a)(Object(b.a)({},e),{},{totalUserCount:t.totalCount});case L.TOGGLE_FETCHING:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case L.FOLLOWING_PROGRESS:return Object(b.a)(Object(b.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(p.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(b.a)(Object(b.a)({},e),t.data);case Pe:return Object(b.a)(Object(b.a)({},e),{},{photo:t.photo});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case"INITIALIZED-SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});default:return e}}}),Jt=Object(I.d)(Zt,Object(I.a)(Vt.a));!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(zt||(zt={})),window.store=Jt;var Qt=function(){r.a.render(Object(v.jsx)(T.a,{store:Jt,children:Object(v.jsx)(x.a,{children:Object(v.jsx)(Yt,{})})}),document.getElementById("root"))};Qt(),Jt.subscribe((function(){Qt()})),a()},39:function(e,t,n){e.exports={nav:"Navbar_nav__1ElVi",item:"Navbar_item__89gUU",wrapperItems:"Navbar_wrapperItems__W0LD1",active:"Navbar_active__1CoiD",friendsSidebar:"Navbar_friendsSidebar__3YpIl",sidebarImg:"Navbar_sidebarImg__3eaYO",sidebarElements:"Navbar_sidebarElements__mbaRW"}},44:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3wW4-",dialogsItem:"Dialogs_dialogsItem__1lURH",messages:"Dialogs_messages__1DjYG",dialogsStyle:"Dialogs_dialogsStyle__3g3kO",active:"Dialogs_active__2sGsR",wrapper:"Dialogs_wrapper__34ZY3",wrapper_style:"Dialogs_wrapper_style__APWWx",messageStyle:"Dialogs_messageStyle__1ofTH",imageDialog:"Dialogs_imageDialog__10QW8",buttonMessage:"Dialogs_buttonMessage__2F1wk",formDialogs:"Dialogs_formDialogs__3Yp5k"}},56:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__17NFO",selectedPage:"Users_selectedPage__ghVA2",usersContainer:"Users_usersContainer__2ccAj",user:"Users_user__1Aozu",name:"Users_name__3CiDE",paginator:"Users_paginator__2w3tD",containerWrapper:"Users_containerWrapper__3pwFj"}},66:function(e,t,n){e.exports={header:"Header_header__2A7wp",headerMenu:"Header_headerMenu__7Rfoc",content:"Header_content__1LWy0",navbarApp:"Header_navbarApp__1bEc1",wrapperContent:"Header_wrapperContent__11Y7U",photoHeader:"Header_photoHeader__2jn69",login:"Header_login__3E0zh"}},99:function(e,t,n){e.exports={containerProfileData:"ProfileInfo_containerProfileData__68FTS",wrapper:"ProfileInfo_wrapper__1Dzq6",imageProfile:"ProfileInfo_imageProfile__2MyQj",info:"ProfileInfo_info__3mtFf"}}},[[343,1,2]]]);
//# sourceMappingURL=main.871ad3cf.chunk.js.map