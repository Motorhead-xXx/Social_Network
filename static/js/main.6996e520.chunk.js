(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,s){},133:function(e,t,s){"use strict";s.r(t);var a=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,177)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),i(e),r(e)}))},n=s(36),i=s.n(n),r=s(0),o=s.n(r),c=(s(106),s(16)),l=s(9),u=s(8),d="UPDATE-NEW-MESSAGE-TEXT",j="SEND-MESSAGES",g={dialogsData:[{id:1,name:"Dimych",image:"https://yt3.ggpht.com/ytc/AKedOLSDfkyRyvD8wZlHqtlKyNqE5H5BqUI2CxqOKU7wAg=s900-c-k-c0x00ffffff-no-rj"},{id:2,name:"Sveta",image:"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg"},{id:3,name:"Sasha",image:"https://pixelbox.ru/wp-content/uploads/2020/12/ava-twitch-32.jpg"},{id:4,name:"Viktor",image:'https://placepic.ru/wp-content/uploads/2018/01/art-krasivyie-kartinki-Putin-politika-1331294.jpeg"'},{id:5,name:"Valera",image:"https://pixelbox.ru/wp-content/uploads/2020/11/ava-maincraft-youtube-76.jpg"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"yo Hi"},{id:4,message:"Hello Hi"},{id:5,message:"Yo yo yo"}],newMessageText:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{newMessageText:t.newText});case j:var s=e.newMessageText;return""!==s?Object(u.a)(Object(u.a)({},e),{},{newMessageText:"",messagesData:[].concat(Object(l.a)(e.messagesData),[{id:6,message:s}])}):e;default:return e}},b=s(24),h=s.n(b),O=s(31),f=s(1),m=function(e){var t="/dialogs/"+e.id;return Object(f.jsx)("div",{className:h.a.containerDialog,children:Object(f.jsxs)(O.b,{to:t,activeClassName:h.a.active,className:h.a.dialogsStyle,children:[Object(f.jsx)("img",{src:e.image,className:h.a.imageDialog}),Object(f.jsxs)("div",{children:[" ",e.name]})]})})},x=function(e){return Object(f.jsxs)("div",{className:h.a.messageStyle,children:[Object(f.jsx)("div",{className:h.a.wrapper_style}),Object(f.jsx)("div",{className:h.a.wrapper,children:Object(f.jsxs)("div",{children:[e.message," "]})})]})};var v,_=function(e){var t=e.dialogPage.dialogsData.map((function(e){return Object(f.jsx)(m,{image:e.image,name:e.name,id:e.id},e.id)})),s=e.dialogPage.messagesData.map((function(e){return Object(f.jsx)(x,{message:e.message},e.id)})),a=e.dialogPage.newMessageText,n=function(){e.onSendMessageClick(a)};return Object(f.jsxs)("div",{className:h.a.dialogs,children:[Object(f.jsx)("div",{className:h.a.dialogsItem,children:t}),Object(f.jsxs)("div",{className:h.a.messages,children:[s,Object(f.jsxs)("div",{className:h.a.buttonMessage,children:[Object(f.jsx)("textarea",{onChange:function(t){var s=t.target.value;e.onNewMessageChange(s)},onKeyPress:function(e){13===e.charCode&&n()},placeholder:"Enter your message",value:a,className:h.a.textArea}),Object(f.jsx)("button",{onClick:n,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})]})},P=s(32),w=Object(P.b)((function(e){return{dialogPage:e.dialogPage}}),(function(e){return{onSendMessageClick:function(t){e({type:j,newText:t})},onNewMessageChange:function(t){e({type:d,newText:t})}}}))(_),y=s(169),C=s(41),S=s(42),N=s(48),T=s(47),E=s(174),k=s(175),D=s(176),U=s(172),F=s(4),L=s(17),I=s(170),A=s(171),R=s(167),G=s(164),M=s(163),H=s(25),W=s.n(H),z=function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.image,className:W.a.sidebarImg})})})},K=s(75),q="ADD-POST",Y="UPDATE-NEW-POST-TEXT",B="SET-USERS-PROFILE",J={postData:[{id:1,message:"Sosiska",likeCount:23},{id:2,message:"REDDISKA",likeCount:77},{id:3,message:"Do you want me? ",likeCount:107}],newPostText:"",profile:null},V={imagesData:[{image:"https://yt3.ggpht.com/ytc/AKedOLSDfkyRyvD8wZlHqtlKyNqE5H5BqUI2CxqOKU7wAg=s900-c-k-c0x00ffffff-no-rj"},{image:"https://pixelbox.ru/wp-content/uploads/2021/02/mult-ava-instagram-2.jpg"},{image:"https://pixelbox.ru/wp-content/uploads/2020/12/ava-twitch-32.jpg"},{image:'https://placepic.ru/wp-content/uploads/2018/01/art-krasivyie-kartinki-Putin-politika-1331294.jpeg"'},{image:"https://pixelbox.ru/wp-content/uploads/2020/11/ava-maincraft-youtube-76.jpg"}]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;return e};!function(e){e.FOLLOW="Users/FOLLOW",e.UNFOLLOW="Users/UNFOLLOW",e.SET_USERS="Users/SET_USERS",e.SET_CURRENT="Users/SET_CURRENT",e.SET_TOTAL_COUNT="Users/SET_TOTAL_COUNT",e.TOGGLE_FETCHING="Users/CHANGE_FETCHING",e.FOLLOWING_PROGRESS="Users/FOLLOWING_PROGRESS"}(v||(v={}));var Z={users:[],pageSize:63,totalUserCount:0,currentPage:1,isFetching:!1,followingProgress:[]},Q="SET-USER-DATA",$="SET-PHOTO",ee={id:null,email:null,login:null,isAuth:!1,photo:null},te=Object(K.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(u.a)(Object(u.a)({},e),{},{postData:[{id:(new Date).getTime(),message:e.newPostText,likeCount:0}].concat(Object(l.a)(e.postData)),newPostText:""});case Y:return Object(u.a)(Object(u.a)({},e),{},{newPostText:t.postText});case B:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});default:return e}},dialogPage:p,sidebar:X,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FOLLOW:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)(Object(u.a)({},e),{},{followed:!0}):e}))});case v.UNFOLLOW:return Object(u.a)(Object(u.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)(Object(u.a)({},e),{},{followed:!1}):e}))});case v.SET_USERS:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case v.SET_CURRENT:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.page});case v.SET_TOTAL_COUNT:return Object(u.a)(Object(u.a)({},e),{},{totalUserCount:t.totalCount});case v.TOGGLE_FETCHING:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case v.FOLLOWING_PROGRESS:return Object(u.a)(Object(u.a)({},e),{},{followingProgress:t.isFetching?[].concat(Object(l.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.data),{},{isAuth:!0});case $:return Object(u.a)(Object(u.a)({},e),{},{photo:t.photo});default:return e}}}),se=Object(K.b)(te);window.store=se;var ae=function(){var e=se.getState().sidebar.imagesData.map((function(e){return Object(f.jsx)(z,{image:e.image})}));return Object(f.jsxs)("div",{className:W.a.nav,children:[Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)(O.b,{to:"/profile",activeClassName:W.a.active,children:" Profile"})}),Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)(O.b,{to:"/dialogs",activeClassName:W.a.active,children:"Messages"})}),Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)(O.b,{to:"/users",activeClassName:W.a.active,children:"Users"})}),Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)("a",{children:"News"})}),Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)("a",{children:"Music"})}),Object(f.jsx)("div",{className:W.a.item,children:Object(f.jsx)("a",{children:"Settings"})}),Object(f.jsxs)("div",{className:W.a.friendsSidebar,children:[Object(f.jsx)("h3",{children:"FRIENDS "}),Object(f.jsx)("div",{className:W.a.sidebarElements,children:e})]})]})},ne=function(){var e,t=r.useState({left:!1}),s=Object(L.a)(t,2),a=s[0],n=s[1],i=function(e,t){return function(s){("keydown"!==s.type||"Tab"!==s.key&&"Shift"!==s.key)&&n(Object(u.a)(Object(u.a)({},a),{},Object(F.a)({},e,t)))}};return Object(f.jsx)("div",{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(U.a,{size:"large",onClick:i("left",!0),children:[" ",Object(f.jsx)(M.a,{style:{color:"white"}})," "]}),Object(f.jsx)(G.a,{anchor:"left",open:a.left,onClose:i("left",!1),children:(e="left",Object(f.jsx)(I.a,{style:{backgroundColor:"#b5c9b3",height:"100%"},sx:{width:250},role:"presentation",onClick:i(e,!1),onKeyDown:i(e,!1),children:Object(f.jsx)(A.a,{children:Object(f.jsx)(R.a,{children:Object(f.jsx)(ae,{})})})}))})]})})},ie=s.p+"static/media/headerImages.adb5c696.png",re=s(74),oe=s.n(re),ce=function(e){return Object(f.jsx)(E.a,{style:{backgroundColor:"#02988e"},position:"relative",children:Object(f.jsxs)(k.a,{children:[Object(f.jsx)(ne,{}),Object(f.jsx)(D.a,{variant:"h3",component:"div",sx:{flexGrow:1}}),e.isAuth?Object(f.jsxs)("div",{className:oe.a.login,children:[" ",Object(f.jsx)("img",{className:oe.a.photoHeader,src:e.photo?e.photo:ie})," ",e.login," "]}):Object(f.jsx)(U.a,{color:"inherit",style:{color:"#cc5aa6",fontWeight:"bold"},children:"Login"})]})})},le=s(91),ue=s.n(le).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"8cfe719b-61ef-4519-9519-1e1d9dd44f52"}}),de=function(e,t){return ue.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},je=function(e){return ue.delete("follow/".concat(e))},ge=function(e){return ue.post("follow/".concat(e))},pe=function(e){Object(N.a)(s,e);var t=Object(T.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(S.a)(s,[{key:"componentDidMount",value:function(){var e=this;ue.get("auth/me",{withCredentials:!0}).then((function(t){if(console.log(t),0===t.data.resultCode){var s=t.data.data,a=s.id,n=s.email,i=s.login;return e.props.setUsersDataAC(a,n,i),t}})).then((function(t){t&&ue.get("/profile/"+t.data.data.id).then((function(t){e.props.setPhotoLoginAC(t.data.photos.small)}))}))}},{key:"render",value:function(){return Object(f.jsx)(ce,Object(u.a)({},this.props))}}]),s}(o.a.Component),be=Object(P.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,photo:e.auth.photo}}),{setUsersDataAC:function(e,t,s){return{type:Q,data:{id:e,email:t,login:s}}},setPhotoLoginAC:function(e){return{type:$,photo:e}}})(pe),he=s(44),Oe=s.n(he),fe=s.p+"static/media/userImages.8cfeb185.png",me=function(e){var t=e.users.filter((function(e){return null!==e.photos.small})),s=e.users.filter((function(e){return null==e.photos.small})),a=[].concat(Object(l.a)(t),Object(l.a)(s));return Object(f.jsx)("div",{className:Oe.a.usersContainer,children:a.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:Oe.a.user,children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.b,{to:"/profile/"+t.id,children:Object(f.jsx)("img",{src:null!==t.photos.small?t.photos.small:fe,className:Oe.a.userPhoto})})}),Object(f.jsx)("div",{className:Oe.a.name,children:Object(f.jsx)("span",{className:Oe.a.span,children:t.name})}),Object(f.jsx)("div",{children:t.followed?Object(f.jsx)(U.a,{variant:"outlined",size:"small",color:"error",disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){var s;s=t.id,e.toggleFollowingProgress(!0,s),je(s).then((function(t){0===t.data.resultCode&&e.unfollow(s),e.toggleFollowingProgress(!1,s)}))},children:"Unfollow"}):Object(f.jsx)(U.a,{variant:"contained",size:"small",disabled:e.followingProgress.some((function(e){return e===t.id})),onClick:function(){var s;s=t.id,e.toggleFollowingProgress(!0,s),ge(s).then((function(t){0===t.data.resultCode&&e.follow(s),e.toggleFollowingProgress(!1,s)}))},children:"Follow"})})]})},t.id)}))})},xe=s.p+"static/media/preloader.3fb26d9b.gif",ve=function(){return Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",Object(f.jsx)("img",{style:{width:"80px",height:"100px"},src:xe})," "]})},_e=s(166),Pe=function(e){Object(N.a)(s,e);var t=Object(T.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(S.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleFetching(!0),de(this.props.currentPage,this.props.pageSize).then((function(t){e.props.setUsers(t.items),e.props.setTotalUsersCount(t.totalCount),e.props.toggleFetching(!1)}))}},{key:"onPageChanged",value:function(e){var t=this;this.props.setCurrentPage(e),this.props.toggleFetching(!0),de(e,this.props.pageSize).then((function(e){t.props.toggleFetching(!1),t.props.setUsers(e.items)}))}},{key:"render",value:function(){var e=this,t=Math.ceil(this.props.totalUserCount/this.props.pageSize);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:Oe.a.paginator,children:Object(f.jsx)(_e.a,{color:"primary",onChange:function(t,s){e.onPageChanged(s)},count:t,variant:"text",shape:"rounded",defaultPage:1,siblingCount:22,size:"small"})}),Object(f.jsxs)(f.Fragment,{children:[this.props.isFetching?Object(f.jsx)(ve,{}):null,Object(f.jsx)(me,{pageSize:this.props.pageSize,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingProgress:this.props.followingProgress})]})]})}}]),s}(o.a.Component),we=Object(P.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUserCount:e.usersPage.totalUserCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingProgress:e.usersPage.followingProgress}}),{follow:function(e){return{type:v.FOLLOW,userID:e}},unfollow:function(e){return{type:v.UNFOLLOW,userID:e}},setUsers:function(e){return{type:v.SET_USERS,users:e}},setCurrentPage:function(e){return{type:v.SET_CURRENT,page:e}},setTotalUsersCount:function(e){return{type:v.SET_TOTAL_COUNT,totalCount:e}},toggleFetching:function(e){return{type:v.TOGGLE_FETCHING,isFetching:e}},toggleFollowingProgress:function(e,t){return{type:v.FOLLOWING_PROGRESS,isFetching:e,userId:t}}})(Pe),ye=function(e){var t,s,a,n,i,r,o;return Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:null===(t=e.profile)||void 0===t?void 0:t.photos.large}),Object(f.jsx)("div",{children:null===(s=e.profile)||void 0===s?void 0:s.fullName}),Object(f.jsx)("div",{children:null===(a=e.profile)||void 0===a?void 0:a.contacts.instagram}),Object(f.jsx)("div",{children:null===(n=e.profile)||void 0===n?void 0:n.contacts.vk}),Object(f.jsx)("div",{children:null===(i=e.profile)||void 0===i?void 0:i.contacts.github}),Object(f.jsx)("div",{children:"looking for a job:  ".concat((null===(r=e.profile)||void 0===r?void 0:r.lookingForAJob)&&"Yes")}),Object(f.jsx)("div",{children:"Job Description:  ".concat(null===(o=e.profile)||void 0===o?void 0:o.lookingForAJobDescription)}),Object(f.jsx)("br",{})]})})})},Ce=s(92),Se=s.n(Ce),Ne=s(56),Te=s.n(Ne),Ee=function(e){return Object(f.jsxs)("div",{className:Te.a.item,children:[Object(f.jsx)("img",{src:"https://bizlit.com.ua/image/data/pictures/YeDYzSR-10apkm4.png"}),Object(f.jsxs)("div",{className:Te.a.messagePost,children:[e.message,Object(f.jsx)("div",{className:Te.a.likeType,children:Object(f.jsx)("span",{className:Te.a.countLike,children:e.likeCount})})]})]})},ke=function(e){var t=e.profilePage.postData.map((function(e){return Object(f.jsx)(Ee,{message:e.message,likeCount:e.likeCount})})),s=o.a.createRef(),a=function(){var t,a=null===(t=s.current)||void 0===t?void 0:t.value;a&&e.addPosts(a)};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:" My posts "}),Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{onKeyPress:function(e){13===e.charCode&&a()},onChange:function(){var t,a=null===(t=s.current)||void 0===t?void 0:t.value;a&&e.onPostChange(a)},ref:s,value:e.profilePage.newPostText})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:a,children:"Add post"})}),Object(f.jsx)("div",{className:Se.a.posts,children:t})]})},De=Object(P.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPosts:function(t){t&&e({type:q,postText:t})},onPostChange:function(t){t&&e({type:Y,postText:t})}}}))(ke),Ue=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(ye,{profile:e.profile}),Object(f.jsx)(De,{})]})},Fe=function(e){Object(N.a)(s,e);var t=Object(T.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(S.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t="2"),ue.get("/profile/"+t).then((function(t){e.props.setUsersProfile(t.data)}))}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)(Ue,Object(u.a)(Object(u.a)({},this.props),{},{profile:this.props.profile}))})}}]),s}(o.a.Component),Le=Object(c.f)(Fe),Ie=Object(P.b)((function(e){return{profile:e.profilePage.profile}}),{setUsersProfile:function(e){return{type:B,profile:e}}})(Le),Ae=function(){return Object(f.jsx)(O.a,{children:Object(f.jsxs)(y.a,{container:!0,children:[Object(f.jsx)(y.a,{item:!0,xs:12,style:{border:"1px solid"},children:Object(f.jsx)(be,{})}),Object(f.jsxs)(y.a,{item:!0,xs:12,style:{border:"1px solid",backgroundColor:"#ecffea"},children:[Object(f.jsx)(c.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(c.a,{to:"/profile"})}}),Object(f.jsx)(c.b,{path:"/dialogs",render:function(){return Object(f.jsx)(w,{})}}),Object(f.jsx)(c.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(Ie,{})}}),Object(f.jsx)(c.b,{path:"/users",render:function(){return Object(f.jsx)(we,{})}})]})]})})},Re=function(){i.a.render(Object(f.jsx)(P.a,{store:se,children:Object(f.jsx)(Ae,{})}),document.getElementById("root"))};Re(),se.subscribe((function(){Re()})),a()},24:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__2ljic",dialogsItem:"Dialogs_dialogsItem__dkL1w",messages:"Dialogs_messages__3CLYv",dialogsStyle:"Dialogs_dialogsStyle__1WKEc",active:"Dialogs_active__cWjhb",wrapper:"Dialogs_wrapper__QWmPS",wrapper_style:"Dialogs_wrapper_style__jqb8Y",messageStyle:"Dialogs_messageStyle__3rO8r",imageDialog:"Dialogs_imageDialog__3bOZI",buttonMessage:"Dialogs_buttonMessage__Soa9S",textArea:"Dialogs_textArea__3DOs-"}},25:function(e,t,s){e.exports={item:"Navbar_item__3NmC5",active:"Navbar_active__Yhrhi",friendsSidebar:"Navbar_friendsSidebar__3a2By",sidebarImg:"Navbar_sidebarImg__31U-u",sidebarElements:"Navbar_sidebarElements__1KLTe"}},44:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__1uFet",selectedPage:"Users_selectedPage__2yzV4",usersContainer:"Users_usersContainer__16uvB",user:"Users_user__1G7hI",name:"Users_name__u2WlR",paginator:"Users_paginator__8Gq43"}},56:function(e,t,s){e.exports={content:"Post_content__c9gD9",item:"Post_item__bSl-J",messagePost:"Post_messagePost__3uuyM",countLike:"Post_countLike__S3MtX",likeType:"Post_likeType__3kNlY"}},74:function(e,t,s){e.exports={header:"Header_header__H0yV5",photoHeader:"Header_photoHeader__1LYeP",login:"Header_login___9nR7"}},92:function(e,t,s){}},[[133,1,2]]]);
//# sourceMappingURL=main.6996e520.chunk.js.map